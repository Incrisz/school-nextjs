<!DOCTYPE html>
<html>
<head>
    <title>Dropdown Debug Test</title>
    <script>
        // Open browser console (F12) to see debug messages
        window.addEventListener('DOMContentLoaded', function() {
            console.log('=== DROPDOWN DEBUG TEST ===');
            
            // Check if elements exist
            const countrySelect = document.getElementById('country-id');
            const stateSelect = document.getElementById('state-of-origin');
            const lgaSelect = document.getElementById('lga-of-origin');
            
            console.log('Country Select found:', !!countrySelect);
            console.log('State Select found:', !!stateSelect);
            console.log('LGA Select found:', !!lgaSelect);
            
            // Check if jQuery and Select2 are loaded
            console.log('jQuery loaded:', typeof $ !== 'undefined');
            console.log('Select2 loaded:', typeof $.fn !== 'undefined' && typeof $.fn.select2 !== 'undefined');
            
            // Check if backend_url is defined
            console.log('backend_url defined:', typeof backend_url !== 'undefined');
            if (typeof backend_url !== 'undefined') {
                console.log('backend_url value:', backend_url);
            }
            
            // Monitor country select changes
            if (countrySelect) {
                countrySelect.addEventListener('change', function() {
                    console.log('Country changed to:', this.value);
                });
                
                if (typeof $ !== 'undefined' && $.fn && $.fn.select2) {
                    $(countrySelect).on('select2:select', function() {
                        console.log('Country selected (Select2):', this.value);
                    });
                }
            }
            
            // Monitor state select changes
            if (stateSelect) {
                const observer = new MutationObserver(function(mutations) {
                    mutations.forEach(function(mutation) {
                        if (mutation.type === 'childList') {
                            console.log('State dropdown HTML changed. Options count:', stateSelect.options.length);
                            if (stateSelect.options.length > 1) {
                                console.log('First few options:', 
                                    Array.from(stateSelect.options).slice(0, 3).map(o => ({
                                        value: o.value,
                                        text: o.text
                                    }))
                                );
                            }
                        }
                    });
                });
                
                observer.observe(stateSelect, { childList: true });
            }
        });
    </script>
</head>
<body>
    <h1>Dropdown Debug Test</h1>
    <p>This page helps debug the dropdown issue. Open your browser console (press F12) to see debug messages.</p>
    <p>Then go to the <a href="add-student.html">Add Student</a> page and try selecting a country.</p>
    <p>Watch the console for debug messages about what's happening.</p>
</body>
</html>
